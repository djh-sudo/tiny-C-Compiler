section .text
main:
	push ebp
	mov ebp,esp
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	mov ebx,[@s_ebp]
	push ebx
	mov [@s_ebp],esp
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	push 0
	push 1
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,@str_1_len
	sub esp,1
	mov [esp],al
	mov [ebp-12],esp
	cmp eax,0
	je @lab_cpystr2_exit_4
	mov ecx,@str_1_len
	dec ecx
	mov esi,@str_1
@lab_cpystr2_3:
	cmp ecx,-1
	je @lab_cpystr2_exit_4
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_3
@lab_cpystr2_exit_4:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ecx,[ebp-12]
	mov edx,0
	mov dl,[ecx]
	sub ecx,edx
	mov ebx,1
	mov eax,4
	int 128
	mov ecx,@buffer
	mov edx,255
	mov ebx,0
	mov eax,3
	int 128
	call @procBuf
	mov [ebp-4],eax
	push 2
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,@str_2_len
	sub esp,1
	mov [esp],al
	mov [ebp-20],esp
	cmp eax,0
	je @lab_cpystr2_exit_10
	mov ecx,@str_2_len
	dec ecx
	mov esi,@str_2
@lab_cpystr2_9:
	cmp ecx,-1
	je @lab_cpystr2_exit_10
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_9
@lab_cpystr2_exit_10:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push 3
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,@str_3_len
	sub esp,1
	mov [esp],al
	mov [ebp-28],esp
	cmp eax,0
	je @lab_cpystr2_exit_16
	mov ecx,@str_3_len
	dec ecx
	mov esi,@str_3
@lab_cpystr2_15:
	cmp ecx,-1
	je @lab_cpystr2_exit_16
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_15
@lab_cpystr2_exit_16:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push 4
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,@str_4_len
	sub esp,1
	mov [esp],al
	mov [ebp-36],esp
	cmp eax,0
	je @lab_cpystr2_exit_22
	mov ecx,@str_4_len
	dec ecx
	mov esi,@str_4
@lab_cpystr2_21:
	cmp ecx,-1
	je @lab_cpystr2_exit_22
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_21
@lab_cpystr2_exit_22:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,[ebp-4]
	push eax
	mov eax,[ebp-36]
	push eax
	mov eax,[ebp-28]
	push eax
	mov eax,[ebp-20]
	push eax
	call hanoi
	add esp,16
	push 0
	mov eax,[ebp-40]
	mov ebx,[@s_ebp]
	mov [@s_esp],ebx
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	pop ebx
	mov [@s_ebp],ebx
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	mov esp,ebp
	pop ebp
	ret
hanoi:
	push ebp
	mov ebp,esp
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	mov ebx,[@s_ebp]
	push ebx
	mov [@s_ebp],esp
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	push 0
	push 0
	mov eax,[ebp+20]
	mov ebx,[ebp-4]
	cmp eax,ebx
	je @lab_base_cmp_28
	mov eax,0
	jmp @lab_base_cmp_exit_29
@lab_base_cmp_28:
	mov eax,1
@lab_base_cmp_exit_29:
	mov [ebp-8],eax
	mov eax,[ebp-8]
	cmp eax,0
	je @if_1_middle
	mov ebx,[@s_ebp]
	mov [@s_esp],ebx
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	pop ebx
	mov [@s_ebp],ebx
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	mov esp,ebp
	pop ebp
	ret
	mov esp,ebp
	jmp @if_1_end
@if_1_middle:
	mov esp,ebp
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp+8]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-4],esp
	cmp eax,0
	je @lab_cpystr2_exit_32
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_31:
	cmp ecx,eax
	je @lab_cpystr2_exit_32
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_31
@lab_cpystr2_exit_32:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp+16]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-8],esp
	cmp eax,0
	je @lab_cpystr2_exit_37
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_36:
	cmp ecx,eax
	je @lab_cpystr2_exit_37
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_36
@lab_cpystr2_exit_37:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp+12]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-12],esp
	cmp eax,0
	je @lab_cpystr2_exit_42
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_41:
	cmp ecx,eax
	je @lab_cpystr2_exit_42
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_41
@lab_cpystr2_exit_42:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push 1
	push 0
	mov eax,[ebp+20]
	mov ebx,[ebp-16]
	sub eax,ebx
	mov [ebp-20],eax
	mov eax,[ebp-20]
	push eax
	mov eax,[ebp-12]
	push eax
	mov eax,[ebp-8]
	push eax
	mov eax,[ebp-4]
	push eax
	call hanoi
	add esp,16
	push 5
	push 6
	push 7
	push 8
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,@str_8_len
	sub esp,1
	mov [esp],al
	mov [ebp-40],esp
	cmp eax,0
	je @lab_cpystr2_exit_53
	mov ecx,@str_8_len
	dec ecx
	mov esi,@str_8
@lab_cpystr2_52:
	cmp ecx,-1
	je @lab_cpystr2_exit_53
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_52
@lab_cpystr2_exit_53:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp+16]
	mov eax,0
	mov al,[ebx]
	cmp eax,0
	je @lab_cpystr1_exit_55
	mov ebx,[ebp-40]
	mov edx,0
	mov dl,[ebx]
	add edx,eax
	mov [ebx],dl
	mov ecx,0
	mov esi,[ebp+16]
	sub esi,1
	neg eax
	cmp edx,255
	jna @lab_cpystr1_54
	call @str2long
@lab_cpystr1_54:
	cmp ecx,eax
	je @lab_cpystr1_exit_55
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr1_54
@lab_cpystr1_exit_55:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp-40]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-44],esp
	cmp eax,0
	je @lab_cpystr2_exit_58
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_57:
	cmp ecx,eax
	je @lab_cpystr2_exit_58
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_57
@lab_cpystr2_exit_58:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,@str_7_len
	cmp eax,0
	je @lab_cpystr1_exit_60
	mov ebx,[ebp-44]
	mov edx,0
	mov dl,[ebx]
	add edx,eax
	mov [ebx],dl
	mov ecx,@str_7_len
	dec ecx
	mov esi,@str_7
	cmp edx,255
	jna @lab_cpystr1_59
	call @str2long
@lab_cpystr1_59:
	cmp ecx,-1
	je @lab_cpystr1_exit_60
	mov al,[esi+ecx]
	sub esp,1
	mov [esp],al
	dec ecx
	jmp @lab_cpystr1_59
@lab_cpystr1_exit_60:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp-44]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-48],esp
	cmp eax,0
	je @lab_cpystr2_exit_63
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_62:
	cmp ecx,eax
	je @lab_cpystr2_exit_63
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_62
@lab_cpystr2_exit_63:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp+8]
	mov eax,0
	mov al,[ebx]
	cmp eax,0
	je @lab_cpystr1_exit_65
	mov ebx,[ebp-48]
	mov edx,0
	mov dl,[ebx]
	add edx,eax
	mov [ebx],dl
	mov ecx,0
	mov esi,[ebp+8]
	sub esi,1
	neg eax
	cmp edx,255
	jna @lab_cpystr1_64
	call @str2long
@lab_cpystr1_64:
	cmp ecx,eax
	je @lab_cpystr1_exit_65
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr1_64
@lab_cpystr1_exit_65:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp-48]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-52],esp
	cmp eax,0
	je @lab_cpystr2_exit_68
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_67:
	cmp ecx,eax
	je @lab_cpystr2_exit_68
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_67
@lab_cpystr2_exit_68:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,@str_6_len
	cmp eax,0
	je @lab_cpystr1_exit_70
	mov ebx,[ebp-52]
	mov edx,0
	mov dl,[ebx]
	add edx,eax
	mov [ebx],dl
	mov ecx,@str_6_len
	dec ecx
	mov esi,@str_6
	cmp edx,255
	jna @lab_cpystr1_69
	call @str2long
@lab_cpystr1_69:
	cmp ecx,-1
	je @lab_cpystr1_exit_70
	mov al,[esi+ecx]
	sub esp,1
	mov [esp],al
	dec ecx
	jmp @lab_cpystr1_69
@lab_cpystr1_exit_70:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp-52]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-56],esp
	cmp eax,0
	je @lab_cpystr2_exit_73
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_72:
	cmp ecx,eax
	je @lab_cpystr2_exit_73
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_72
@lab_cpystr2_exit_73:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,[ebp+20]
	mov esi,[ebp-56]
	mov edi,0
	cmp eax,0
	jge @lab_numsign1_exit_77
@lab_numsign1_76:
	neg eax
	mov edi,1
@lab_numsign1_exit_77:
	mov ebx,10
@lab_num2str1_74:
	mov edx,0
	idiv ebx
	mov cl,[esi]
	inc cl
	mov [esi],cl
	sub esp,1
	add dl,48
	mov [esp],dl
	cmp eax,0
	jne @lab_num2str1_74
	cmp edi,0
	je @lab_numsign_add_78
	sub esp,1
	mov ecx,45
	mov [esp],cl
	mov cl,[esi]
	inc cl
	mov [esi],cl
@lab_numsign_add_78:
	cmp cl,255
	jna @lab_num2str1_exit_75
	call @str2long
@lab_num2str1_exit_75:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp-56]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-60],esp
	cmp eax,0
	je @lab_cpystr2_exit_81
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_80:
	cmp ecx,eax
	je @lab_cpystr2_exit_81
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_80
@lab_cpystr2_exit_81:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov eax,@str_5_len
	cmp eax,0
	je @lab_cpystr1_exit_83
	mov ebx,[ebp-60]
	mov edx,0
	mov dl,[ebx]
	add edx,eax
	mov [ebx],dl
	mov ecx,@str_5_len
	dec ecx
	mov esi,@str_5
	cmp edx,255
	jna @lab_cpystr1_82
	call @str2long
@lab_cpystr1_82:
	cmp ecx,-1
	je @lab_cpystr1_exit_83
	mov al,[esi+ecx]
	sub esp,1
	mov [esp],al
	dec ecx
	jmp @lab_cpystr1_82
@lab_cpystr1_exit_83:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp-60]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-64],esp
	cmp eax,0
	je @lab_cpystr2_exit_86
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_85:
	cmp ecx,eax
	je @lab_cpystr2_exit_86
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_85
@lab_cpystr2_exit_86:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ecx,[ebp-64]
	mov edx,0
	mov dl,[ecx]
	sub ecx,edx
	mov ebx,1
	mov eax,4
	int 128
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp+12]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-68],esp
	cmp eax,0
	je @lab_cpystr2_exit_91
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_90:
	cmp ecx,eax
	je @lab_cpystr2_exit_91
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_90
@lab_cpystr2_exit_91:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp+8]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-72],esp
	cmp eax,0
	je @lab_cpystr2_exit_96
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_95:
	cmp ecx,eax
	je @lab_cpystr2_exit_96
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_95
@lab_cpystr2_exit_96:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push -1
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	mov ebx,[ebp+16]
	mov eax,0
	mov al,[ebx]
	sub esp,1
	mov [esp],al
	mov [ebp-76],esp
	cmp eax,0
	je @lab_cpystr2_exit_101
	mov ecx,0
	mov esi,ebx
	dec esi
	neg eax
@lab_cpystr2_100:
	cmp ecx,eax
	je @lab_cpystr2_exit_101
	mov dl,[esi+ecx]
	sub esp,1
	mov [esp],dl
	dec ecx
	jmp @lab_cpystr2_100
@lab_cpystr2_exit_101:
	mov eax,[@s_esp]
	mov [@s_esp],esp
	mov esp,eax
	push 1
	push 0
	mov eax,[ebp+20]
	mov ebx,[ebp-80]
	sub eax,ebx
	mov [ebp-84],eax
	mov eax,[ebp-84]
	push eax
	mov eax,[ebp-76]
	push eax
	mov eax,[ebp-72]
	push eax
	mov eax,[ebp-68]
	push eax
	call hanoi
	add esp,16
	mov esp,ebp
@if_1_end:
	mov ebx,[@s_ebp]
	mov [@s_esp],ebx
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	pop ebx
	mov [@s_ebp],ebx
	mov ebx,[@s_esp]
	mov [@s_esp],esp
	mov esp,ebx
	mov esp,ebp
	pop ebp
	ret
section .data
	@str_1 db "输入盘子个数："
	@str_1_len equ 21
	@str_2 db "A"
	@str_2_len equ 1
	@str_3 db "B"
	@str_3_len equ 1
	@str_4 db "C"
	@str_4_len equ 1
	@str_5 db "Move "
	@str_5_len equ 5
	@str_6 db ":",9,"["
	@str_6_len equ 3
	@str_7 db " --> "
	@str_7_len equ 5
	@str_8 db "]",10
	@str_8_len equ 2
section .bss
